<!--
  Generated template for the UserEventsRegisteredPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Events Registered</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
    <h1 class="location">Confirmed Events</h1>
    <ion-card *ngFor="let event of userEvents | async" >

        <div *ngFor="let e of eventsImages | async">
            <img   *ngIf="  event.eventId == val(e.id)" [src]="e.imageurl || 'https://api.adorable.io/avatars/109/fire.png'" alt="Card image cap">
        </div>

        <div  class="t"> 
            <h1 class="title">{{event.eventTitle}}</h1>
        </div>

        <ion-item> 
          <ion-icon name="calendar" item-start large></ion-icon>
          <h3>Start Date</h3>
          <p>{{event.eventStartDate | date:'medium' }}</p>
        </ion-item>

        <ion-item>
          <ion-icon name="navigate" item-left large ></ion-icon>
          <h3>Location</h3>
          <p>{{event.eventPostcode}}</p>
        </ion-item>

        <ion-item>
          <ion-list>
              <ion-item>
                  <button ion-button small  
                    [color]="event.publicProfile ? 'secondary' : 'danger' " 
                    outline item-start icon-left 
                    (click)="updatePublicProfile(event.$key,!event.publicProfile)" >
                      <ion-icon [name]="event.publicProfile? 'eye':'eye-off'"></ion-icon>
                    </button>

                    <button ion-button small color="danger" outline item-start icon-left
                    (click)="getEventInfo(event.eventId)" >
                        <ion-icon name="information-circle"></ion-icon>
                      </button>

                <button ion-button small  outline item-end   icon-left>
                  <ion-icon name="paper"></ion-icon>
                 
                </button>

                <button ion-button small color="dark" outline item-end icon-left 
                (click)="cancelAttendance(event.$key)" >
                    <ion-icon name="close"></ion-icon>
                   
                  </button>
              </ion-item>  
            </ion-list>
        </ion-item>

    </ion-card>
</ion-content>
